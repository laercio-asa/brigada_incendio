<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Combate ao incêndio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/styles.css">
</head>

<body>
    <div class="position-absolute start-0 top-0 m-4">
        <h1>O que fazer?</h1>
        <h3>Escolha um extintor para apagar o principio de incêndio</h3>
    </div>
    </div>
    <div id="painel" class="border-end">
        <img id="fogo" class="d-none position-absolute" src="./img/fogo.gif">
    </div>
    <div class="position-absolute start-0 bottom-0 me-2 mb-5 d-none" id="extintores">
        <div class="row" style="background-color: rgba(255, 255, 255, 0.5);">
            <div class="col-auto text-center">
                <button class="btn border-0 mx-2" data-bs-toggle="modal" data-bs-target="#exampleModal"
                    onclick="bombeiro('a', 1);">
                    <img id="btnAgua" src="./img/agua.png">
                </button>
                <h4>Água</h4>
            </div>
            <div class="col-auto text-center">
                <button class="btn border-0 mx-2" data-bs-toggle="modal" data-bs-target="#exampleModal"
                    onclick="bombeiro('a', 2);">
                    <img id="btnCO2" src="./img/co2.png">
                </button>
                <h4>CO2</h4>
            </div>
            <div class="col-auto text-center">
                <button class="btn border-0 mx-2" data-bs-toggle="modal" data-bs-target="#exampleModal"
                    onclick="bombeiro('a', 3);">
                    <img id="btnPO" src="./img//pobc.png">
                </button>
                <h4>PQS</h4>
            </div>
        </div>

    </div>

    <img id="bombeiro1" class="position-absolute d-none" src="./img/bombeiro1.png">
    <img id="bombeiro2" class="position-absolute d-none" src="./img/bombeiro2.png">

    <div class="position-absolute start-0 bottom-0 card p-1">
        <a href="../index.html" class="btn btn-dark">Voltar</a>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Uso dos extintores</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        onclick="fechar()"></button>
                </div>
                <div class="modal-body">

                    <div class="classe-a">
                        <div class="row">
                            <div class="col-3">
                                <img src="./img/classe-a.png" class="img-fluid">
                            </div>
                            <div class="col-6">
                                <strong>Classe A – </strong>É a combustão mais comum, sobre materiais sólidos
                                combustíveis, que
                                queimam em razão
                                de seu volume, como madeira, papel, algodão e plásticos.
                            </div>
                            <div class="col-3">
                                <img id="img-a" src="./img/ok.png" class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <div class="classe-b">
                        <div class="row">
                            <div class="col-3">
                                <img src="./img/classe-b.png" class="img-fluid">
                            </div>
                            <div class="col-6">
                                <strong>Classe B – </strong> Sobre materiais que queimam apenas em sua superfície, em
                                sua maioria líquidos inflamáveis como álcool e gasolina.
                            </div>
                            <div class="col-3">
                                <img id="img-b" src="./img/ok.png" class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <div class="classe-c">
                        <div class="row">
                            <div class="col-3">
                                <img src="./img/classe-c.png" class="img-fluid">
                            </div>
                            <div class="col-6">
                                <strong>Classe C – </strong>Quando ocorre em material eletro-eletrônico energizado, como
                                computadores, geladeiras e aparelhos de som.
                            </div>
                            <div class="col-3">
                                <img id="img-c" src="./img/ok.png" class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <div class="classe-k">
                        <div class="row">
                            <div class="col-3">
                                <img src="./img/classe-k.png" class="img-fluid">
                            </div>
                            <div class="col-6">
                                <strong>Classe K – </strong>Fogo causado por técnicas de se cozinhar, envolvendo banha,
                                gordura etc. Reconhecidamente é mais difícil de conter que os líquidos inflamáveis da
                                classe B.
                            </div>
                            <div class="col-3">
                                <img id="img-k" src="./img/ok.png" class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <div class="row text-center mt-2">
                        <!-- Classe a -->
                        <div class="col classe-a">
                            <div class="card h-100" id="tipo-a-1" data-value="3">
                                <div class="card-header">
                                    <span class="h5">Água Pressurizada</span>
                                </div>
                                <div class="card-body">
                                    <span class="h3 text-success">Sim</span><br>Excelente
                                </div>
                            </div>
                        </div>
                        <div class="col classe-a">
                            <div class="card h-100" id="tipo-a-2" data-value="1">
                                <div class="card-header">
                                    <span class="h5">Gás Carbônico</span>
                                </div>
                                <div class="card-body">
                                    <span class="h3 text-success">Sim</span><br>Em casos pequenos de superfície
                                </div>
                            </div>
                        </div>
                        <div class="col classe-a">
                            <div class="card h-100" id="tipo-a-3" data-value="1">
                                <div class="card-header">
                                    <span class="h5">Pó Químico Seco</span>
                                </div>
                                <div class="card-body">
                                    <span class="h3 text-success">Sim</span><br>Em casos pequenos de superfície
                                </div>
                            </div>
                        </div>

                        <!-- Classe C -->
                        <div class="col classe-c">
                            <div class="card h-100" id="tipo-c-1" data-value="0">
                                <div class="card-header">
                                    <span class="h3">Água</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-danger">NÃO</span><br>O líquido incentiva o fogo
                                </div>
                            </div>
                        </div>
                        <div class="col classe-c">
                            <div class="card h-100" id="tipo-c-2" data-value="3">
                                <div class="card-header">
                                    <span class="h3">CO2</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-success">Sim</span><br>Excelente
                                </div>
                            </div>
                        </div>
                        <div class="col classe-c">
                            <div class="card h-100" id="tipo-c-3" data-value="1">
                                <div class="card-header">
                                    <span class="h3">P.Q.S</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-success">Sim</span><br>Bom, mas danifica o equipamento
                                </div>
                            </div>
                        </div>

                        <!-- Classe B -->
                        <div class="col classe-b">
                            <div class="card h-100" id="tipo-b-1" data-value="0">
                                <div class="card-header">
                                    <span class="h3">Água</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-danger">NÃO</span><br>O líquido incentiva o fogo
                                </div>
                            </div>
                        </div>
                        <div class="col classe-b">
                            <div class="card h-100" id="tipo-b-2" data-value="1">
                                <div class="card-header">
                                    <span class="h3">CO2</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-success">Sim</span><br>Bom
                                </div>
                            </div>
                        </div>
                        <div class="col classe-b">
                            <div class="card h-100" id="tipo-b-3" data-value="3">
                                <div class="card-header">
                                    <span class="h3">P.Q.S</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-success">Sim</span><br>Excelente
                                </div>
                            </div>
                        </div>

                        <!-- Classe k -->
                        <div class="col classe-k">
                            <div class="card h-100" id="tipo-k-1" data-value="0">
                                <div class="card-header">
                                    <span class="h3">Água</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-danger">NÃO</span><br>O líquido incentiva o fogo
                                </div>
                            </div>
                        </div>
                        <div class="col classe-k">
                            <div class="card h-100" id="tipo-k-2" data-value="1">
                                <div class="card-header">
                                    <span class="h3">CO2</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-success">Sim</span><br>Bom
                                </div>
                            </div>
                        </div>
                        <div class="col classe-k">
                            <div class="card h-100" id="tipo-k-3" data-value="3">
                                <div class="card-header">
                                    <span class="h3">P.Q.S</span>
                                </div>
                                <div class="card-body">
                                    <span class="h4 text-success">Sim</span><br>Excelente
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="">

                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                        onclick="fechar()">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

    <script>

        let cena = 1;
        let pontuacao = 0;

        window.addEventListener('resize', function () {
            tamanho();
        });

        function tamanho() {
            let largura = window.innerWidth;
            let altura = window.innerHeight;
            // 1054 x 620
            // 50 x 50
            // 995 x 423
            // 727 x 224
            // 380 x 345
            if (largura > altura * 1.7) {
                largura = altura * 1.7;
            } else {
                altura = largura / 1.7;
            }
            let fogo = document.getElementById('fogo');
            fogo.style.width = 50 * (largura / 1054) + 'px';
            fogo.style.top = 423 * (largura / 1054) + 'px';
            fogo.style.left = 995 * (largura / 1054) + 'px';


            document.getElementById('btnAgua').style.height = 180 * (largura / 1054) + 'px';
            document.getElementById('btnCO2').style.height = 180 * (largura / 1054) + 'px';
            document.getElementById('btnPO').style.height = 180 * (largura / 1054) + 'px';
        }

        setTimeout(function () {
            document.getElementById('fogo').classList.remove('d-none');
            document.getElementById('extintores').classList.remove('d-none');
        }, 3000);

        tamanho();

        function bombeiro(id, tipo) {

            for (let i = 0; i < document.getElementsByClassName('classe-a').length; i++) {
                document.getElementsByClassName('classe-a')[i].classList.add("d-none");
            }
            for (let i = 0; i < document.getElementsByClassName('classe-b').length; i++) {
                document.getElementsByClassName('classe-b')[i].classList.add("d-none");
            }
            for (let i = 0; i < document.getElementsByClassName('classe-c').length; i++) {
                document.getElementsByClassName('classe-c')[i].classList.add("d-none");
            }
            for (let i = 0; i < document.getElementsByClassName('classe-k').length; i++) {
                document.getElementsByClassName('classe-k')[i].classList.add("d-none");
            }
            if (cena == 1) {
                id = 'a';
                b = '1';
            }
            else if (cena == 2) {
                id = 'c';
                b = '2';
            }
            else if (cena == 4) {
                id = 'b';
                b = '1';
            }
            else if (cena == 5) {
                id = 'k';
                b = '2';
            }
            else if (cena == 6) {
                id = 'b';
                b = '2';
            }
            for (let i = 0; i < document.getElementsByClassName('classe-' + id).length; i++) {
                document.getElementsByClassName('classe-' + id)[i].classList.remove("d-none");
            }

            let largura = window.innerWidth;
            let altura = window.innerHeight;
            if (largura > altura * 1.7) {
                largura = altura * 1.7;
            } else {
                altura = largura / 1.7;
            }
            let bombeiro = document.getElementById('bombeiro' + b);

            if (cena == 1) {
                bombeiro.style.left = 727 * (largura / 1054) + 'px';
                bombeiro.style.height = 342 * (largura / 1054) + 'px';
                bombeiro.style.top = 224 * (largura / 1054) + 'px';
            }
            else if (cena == 2) {
                bombeiro.style.left = 80 * (largura / 1054) + 'px';
                bombeiro.style.height = 342 * (largura / 1054) + 'px';
                bombeiro.style.top = 224 * (largura / 1054) + 'px';
            }
            else if (cena == 4) {
                bombeiro.style.left = 390 * (largura / 1054) + 'px';
                bombeiro.style.top = 277 * (largura / 1054) + 'px';
                bombeiro.style.height = 318 * (largura / 1054) + 'px';
            }
            else if (cena == 5) {
                bombeiro.style.left = 237 * (largura / 1054) + 'px';
                bombeiro.style.top = 277 * (largura / 1054) + 'px';
                bombeiro.style.height = 318 * (largura / 1054) + 'px';
            }
            else if (cena == 6) {
                bombeiro.style.left = 607 * (largura / 1054) + 'px';
                bombeiro.style.top = 277 * (largura / 1054) + 'px';
                bombeiro.style.height = 318 * (largura / 1054) + 'px';
            }

            bombeiro.classList.remove("d-none");

            document.getElementById(`tipo-${id}-1`).classList.remove("bg-info-subtle");
            document.getElementById(`tipo-${id}-1`).classList.remove("shadow");
            document.getElementById(`tipo-${id}-2`).classList.remove("bg-info-subtle");
            document.getElementById(`tipo-${id}-2`).classList.remove("shadow");
            document.getElementById(`tipo-${id}-3`).classList.remove("bg-info-subtle");
            document.getElementById(`tipo-${id}-3`).classList.remove("shadow");

            document.getElementById(`tipo-${id}-${tipo}`).classList.add("bg-info-subtle");
            document.getElementById(`tipo-${id}-${tipo}`).classList.add("shadow");

            valor = document.getElementById(`tipo-${id}-${tipo}`).getAttribute("data-value");
            pontuacao += Number(valor);
            document.getElementById(`img-${id}`).src = `./img/${valor}.png`;

            console.log(pontuacao);

        }

        function fechar() {
            document.getElementById('fogo').classList.add('d-none');
            document.getElementById('extintores').classList.add('d-none');

            setTimeout(function () {
                document.getElementById('bombeiro1').classList.add('d-none');
                document.getElementById('bombeiro2').classList.add('d-none');
            }, 2000);

            setTimeout(function () {
                let largura = window.innerWidth;
                let altura = window.innerHeight;
                if (largura > altura * 1.7) {
                    largura = altura * 1.7;
                } else {
                    altura = largura / 1.7;
                }

                if (cena == 1) {
                    let fogo = document.getElementById('fogo');
                    fogo.style.top = 345 * (largura / 1054) + 'px';
                    fogo.style.left = 380 * (largura / 1054) + 'px';
                    document.getElementById('fogo').classList.remove('d-none');
                    document.getElementById('extintores').classList.remove('d-none');
                    cena += 1;
                }
                else if (cena == 2) {
                    document.body.style.backgroundImage = "url(./img/cozinha.png)";
                    cena += 1;
                }
                else if (cena == 4) {
                    let fogo = document.getElementById('fogo');
                    fogo.style.top = 312 * (largura / 1054) + 'px';
                    fogo.style.left = 478 * (largura / 1054) + 'px';
                    document.getElementById('fogo').classList.remove('d-none');
                    document.getElementById('extintores').classList.remove('d-none');
                    cena += 1
                }
                else if (cena == 5) {
                    let fogo = document.getElementById('fogo');
                    fogo.style.top = 298 * (largura / 1054) + 'px';
                    fogo.style.left = 859 * (largura / 1054) + 'px';
                    document.getElementById('fogo').classList.remove('d-none');
                    document.getElementById('extintores').classList.remove('d-none');
                    cena += 1
                }

            }, 3000);

            setTimeout(function () {
                let largura = window.innerWidth;
                let altura = window.innerHeight;
                if (largura > altura * 1.7) {
                    largura = altura * 1.7;
                } else {
                    altura = largura / 1.7;
                }

                if (cena == 3) {
                    let fogo = document.getElementById('fogo');
                    fogo.style.width = 80 * (largura / 1054) + 'px'
                    fogo.style.top = 515 * (largura / 1054) + 'px';
                    fogo.style.left = 657 * (largura / 1054) + 'px';
                    document.getElementById('fogo').classList.remove('d-none');
                    document.getElementById('extintores').classList.remove('d-none');
                    cena += 1
                }
            }, 5000);
        }

    </script>
</body>

</html>